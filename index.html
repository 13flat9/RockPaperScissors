<!DOCTYPE html>
<html>
    <head>
        <script>
        </script>
    </head>
    <body>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
        <div id="result">
        </div>
        <div id="score">    
        </div>
        <script>
            function computerPlay() {
                let dieRoll = Math.random() * 3;
                if (dieRoll >= 2) {
                    return "Rock";
                }
                else if (dieRoll >= 1) { 
                    return "Paper";
                }
                else {
                    return "Scissors";
                }
            }
            function playRound(playerSelection, computerSelection) {
            if ((playerSelection).toLowerCase() == "rock") {
                if (computerSelection == "Rock") {
                    return 0 //"Tie!";
                    }
                    else if (computerSelection == "Scissors") {
                        return 1 //"You win! Rock beats Scissors";
                    }
                    else return -1 //"You lose! Paper beats Rock";
                }
                else if ((playerSelection).toLowerCase() == "paper") {
                    if (computerSelection == "Paper") {
                        return 0 //"Tie!";
                    }
                    else if (computerSelection == "Scissors") {
                        return -1 //"You lose! Scissors beat Paper";
                    }
                    else return 1 //"You win! Paper beats Rock";

                }
                else if (playerSelection.toLowerCase() == "scissors") {
                    if (computerSelection == "Scissors") {
                        return 0 //"Tie!";
                    }
                    else if (computerSelection == "Paper") {
                        return 1 //"You win! Scissors beat Paper";
                    }
                    else return -1 //"You lose! Rock beats Scissors";

                }
                else {
                    return "Invalid input"
                }
            }       

            const resultRound = document.querySelector('#result');
            let playerScore = 0;
            let compScore = 0;
            function gameButton() {
            let playerSelection = this.id;
            let computerSelection = computerPlay();
            let result;
            const scoreCard = document.querySelector('#score')
            result = playRound(playerSelection, computerSelection);
            if (result==1) {
                resultRound.textContent = "Player wins this round";
                playerScore++;
            } 
            else if (result==-1) {
                resultRound.textContent = "Computer wins this round";
                compScore++;
            }
            else {
                resultRound.textContent = "This round is a tie";
            }
            scoreCard.textContent = `${playerScore} - ${compScore}`
            if (playerScore == 5) {
                resultRound.textContent = "Player wins the game!";
            }
            if (compScore == 5) {
                resultRound.textContent = "Computer wins the game!";
            }
            if ((playerScore == 5) || (compScore == 5)) {
                buttons.forEach(button => button.removeEventListener('click', gameButton));

            }

            }   
            
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => button.addEventListener('click', gameButton));

            

            

        </script>
    </body>
</html>